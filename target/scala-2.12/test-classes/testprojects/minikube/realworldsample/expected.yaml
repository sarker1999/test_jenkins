# Generated by toolform (0.0.1-SNAPSHOT)
# Source file: /Users/seandawson/Development/toolform/src/test/resources/testprojects/minikube/realworldsample/environment.conf
# Date: 23/10/2017
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    source.path: "server/public"
    project.artefact: "true"
  name: public-api
spec:
  type: ClusterIP
  selector:
    component: public-api
  ports:
  -
    name: "port-9000"
    port: 9000
    targetPort: 9000
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    source.path: "resources/elastic_search"
    project.artefact: "true"
  name: se-swip-elastic-search
spec:
  type: ClusterIP
  selector:
    component: se-swip-elastic-search
  ports:
  -
    name: "port-9200"
    port: 9200
    targetPort: 9200
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    source.path: "client/public"
    project.artefact: "true"
  name: client-public
spec:
  type: ClusterIP
  selector:
    component: client-public
  ports:
  -
    name: "port-8000"
    port: 8000
    targetPort: 8000
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    source.path: "resources/influxdb"
    project.artefact: "true"
  name: se-swip-influx-db
spec:
  type: ClusterIP
  selector:
    component: se-swip-influx-db
  ports:
  -
    name: "port-8086"
    port: 8086
    targetPort: 8086
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: se-swip-db
spec:
  type: ClusterIP
  selector:
    resource: se-swip-db
  ports:
  -
    name: "port-5432"
    port: 5432
    targetPort: 5432
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: se-swip-carbon
spec:
  type: ClusterIP
  selector:
    resource: se-swip-carbon
  ports:
  -
    name: "port-25"
    port: 25
    targetPort: 25
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: se-swip-mail-relay
spec:
  type: ClusterIP
  selector:
    resource: se-swip-mail-relay
  ports:
  -
    name: "port-25"
    port: 25
    targetPort: 25
    protocol: TCP
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    source.path: "server/public"
    project.artefact: "true"
  name: public-api
spec:
  replicas: 1
  template:
    metadata:
      labels:
        component: public-api
    spec:
      containers:
      -
        image: se_swip/public_api
        name: public-api
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 9000
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    source.path: "resources/elastic_search"
    project.artefact: "true"
  name: se-swip-elastic-search
spec:
  replicas: 1
  template:
    metadata:
      labels:
        component: se-swip-elastic-search
    spec:
      containers:
      -
        image: se_swip/se_swip_elastic_search
        name: se-swip-elastic-search
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 9200
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    source.path: "client/public"
    project.artefact: "true"
  name: client-public
spec:
  replicas: 1
  template:
    metadata:
      labels:
        component: client-public
    spec:
      containers:
      -
        image: se_swip/client/public
        name: client-public
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 8000
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    source.path: "resources/influxdb"
    project.artefact: "true"
  name: se-swip-influx-db
spec:
  replicas: 1
  template:
    metadata:
      labels:
        component: se-swip-influx-db
    spec:
      containers:
      -
        image: se_swip/se_swip_influx_db
        name: se-swip-influx-db
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 8086
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: se-swip-db
spec:
  replicas: 1
  template:
    metadata:
      labels:
        resource: se-swip-db
    spec:
      containers:
      -
        image: docker.agiledigital.com.au:5000/agile/pgpool2
        name: se-swip-db
        imagePullPolicy: IfNotPresent
        env:
          -
            name: BACKEND_PORT
            value: 5432
          -
            name: BACKEND_HOST
            value: localhost
        ports:
          - containerPort: 5432
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: se-swip-carbon
spec:
  replicas: 1
  template:
    metadata:
      labels:
        resource: se-swip-carbon
    spec:
      containers:
      -
        image: dockerana/carbon
        name: se-swip-carbon
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 25
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: se-swip-mail-relay
spec:
  replicas: 1
  template:
    metadata:
      labels:
        resource: se-swip-mail-relay
    spec:
      containers:
      -
        image: djfarrelly/maildev
        name: se-swip-mail-relay
        imagePullPolicy: IfNotPresent
        ports:
          - containerPort: 25
